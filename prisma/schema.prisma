generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Livro {
  id            String      @id @default(auto()) @map("_id") @db.ObjectId
  nome          String
  autor         String
  dataPub       String
  campos        Campo[]
}

model Campo {
  id                String      @id @default(auto()) @map("_id") @db.ObjectId
  filiacao          String      // Bastarda ou Legitima
  linhagemFamiliar  String
  nomeReligioso     String
  idade             String
  dataNascimento    String
  tempoNoviciado    String
  naturalidadeBatismo String
  pai               String
  avoPaterno        String
  avoPaterna        String
  mae               String
  avoMaterno        String
  avoMaterna        String
  freirasParentesco String
  irmaos            String
  observacoes       String
  monja             Monja?      @relation(fields: [monjaId], references: [id], onDelete: Cascade) // Relação opcional
  monjaId           String      @db.ObjectId
  nrFolio           String
  datacaoReferencia String
  livro             Livro?      @relation(fields: [livroId], references: [id])
  livroId           String?     @db.ObjectId
}

model Monja {
  id     String   @id @default(auto()) @map("_id") @db.ObjectId
  nome   String
  campos Campo[] 
}
