generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

// schema.prisma

model Livro {
  id      String @id @default(auto()) @map("_id") @db.ObjectId
  nome String
  autor   String
  dataPub String
  referencias Referencia[]
}

model Referencia {
  id                String @id @default(auto()) @map("_id") @db.ObjectId
  livro             Livro  @relation(fields: [livroId], references: [id])
  livroId           String @db.ObjectId
  referencia String
  datacaoReferencia String
  Campos            Campo[]
}

model Campo {
  id                String @id @default(auto()) @map("_id") @db.ObjectId
  referencia        Referencia @relation(fields: [referenciaId], references: [id])
  referenciaId      String @db.ObjectId
  filiacao  String //Bastarda ou Legitima
  linhagemFamiliar String
  nomeReligioso     String
  idade             String
  dataNascimento  String
  tempoNoviciado  String
  naturalidadeBatismo    String
  pai               String
  avoPaterno        String
  avoPaterna        String
  mae               String
  avoMaterno        String
  avoMaterna        String
  freirasParentesco String
  irmaos            String[]
  observacoes       String
  monja             Monja?   @relation(fields: [monjaId], references: [id]) // Relação opcional
  monjaId           String   @db.ObjectId
}

model Monja {
  id    String @id @default(auto()) @map("_id") @db.ObjectId
  nome  String
  campos Campo[]
}
